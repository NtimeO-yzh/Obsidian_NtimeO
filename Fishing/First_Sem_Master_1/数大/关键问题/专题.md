# 1. 链设计
## (1)反相器链
关键就是理解,从$$\begin{aligned}t_p&=\sum_{j=1}^Nt_{p,j}=t_{p0}\sum_{j=1}^N\left(1+\frac{C_{g,j+1}}{\gamma C_{g,j}}\right)\end{aligned}\tag{17}$$式(17)中一共有很多未知数,包括
1. N-1个C: $\boldsymbol{C_{g,2}}\sim\boldsymbol{C_{g,N}}$
2. $\gamma$
3. N
对于这N-1个C: $\boldsymbol{C_{g,2}}\sim\boldsymbol{C_{g,N}}$而言, 求解方法: 求 N-1 个偏微分并令他们都等于0, 即$$\partial t_p/\partial C_{g,j}=0$$
可以得到$$C_{g,j+1}/C_{g,j}=C_{g,j}/C_{g,j-1}$$
上式的意思是, 每一级反相器的尺寸是与其相邻前后两个反相器尺寸的几何平均数, 即$$C_{g,j}=\sqrt{C_{g,j-1}C_{g,j+1}}$$因此每一级具有相同的尺寸放大系数为 f, 又由于$$f^N=F=C_L/C_{g,1}$$
因此得到: $$f=\sqrt[N]{F}$$
对于这个式子而言, 知道两者能确定第三者.但无论哪种结果都符合这种约束.
将上式带入式(17)得到延时为$$t_p=Nt_{p0}(1+\sqrt[N]{F}/\gamma)\tag{18}$$
知道F和N就不说了,很容易求出f,
关键在于知道F和f去求N.
这个f对于每个$\gamma$来说有个最优值

## (2)组合门链
参考链接: https://mohun-8052.github.io/2022/05/01/数字集成电路（5）努力/#1-p-（本征延时比）



# 2. D触发器
第一步: 基于多路开关的锁存器
![[support/img/Pasted image 20231213203236.png]]
没啥问题, CLK=1, 就变, =0, 锁住, nice
![[support/img/Pasted image 20231213203247.png]]
好实现, 传输管嘛, clk反着对N和P加就行
![[support/img/Pasted image 20231213203253.png]]
核心就在于下边那个CLK非, 在CLK=0的时候打开, 可以不断的给信号过去, 其实和上边没啥区别哈,就是把对管换成一个了
第二步: 两个反相的基于多路开关的锁存器串联，可以构成一个边沿触发的寄存器
![[support/img/Pasted image 20231213203129.png]]
分析一下原理, 关键就是两个反着你知道吧.
第一个在低电平期间保持了一直乱跳, 高电平期间的数据是上一个低电平期间的最后一个数据.
所以QM在高电平期间只有一个数据, 第二个D又是高电平透明的,所以看上去就是, 低电平期间的最后一个数据决定了接下来一个周期内的输出.  
尝试从这里能不能理解c2q: ~~clk选通第一个~~, ~~第一个有一个d2q, 之后经过线~~, 再选通第二个, <span style="background:#affad1">所以感觉像是第二个的d2q啊</span>