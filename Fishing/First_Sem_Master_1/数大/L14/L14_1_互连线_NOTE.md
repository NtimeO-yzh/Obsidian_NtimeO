[[Fishing/First_Sem_Master_1/数大/数大|数大]]
# 一、引言
🏀**互连线的重要性**
随着工艺的进步, 
- 器件尺寸缩小，器件本身的延时按比例减小。
- 互连线 在尺寸缩小时其寄生效应同晶体管等有源器件并不相同。
- 事实上，随着芯片规模的增大（虽然工艺线宽在缩小， 但是芯片的整体尺寸在增大），<font color="#ff0000">全局互连线的平均长度 也在增大</font>，从而导致了相应寄生效应的增大；
- 电路规模增大，连线越来越复杂；
<font color="#ff0000">互连线对电路性能、功耗和可靠性的影响越来越大</font>
🏀**互连线的种类**
1. 上层的金属连线
	1. 主要用在传输较大电流密度的地方，电阻小；
	2. 应该尽可能使用这一层来布线。
2. 中层的多晶硅连线
	1. 传输小电流，电阻比金属（如铝）大得多；
	2. 用作从*前级输出到下级输入栅间的连线*。
3. 下层的扩散区连线
	1. *将源区或漏区加以延伸而成*，电阻同多晶硅相当， 但是扩散电容太大；
	2. <font color="#ff0000">除非不得已，否则不要使用。</font>
![[support/img/Pasted image 20240115003227.png|400]]
🏀**互连线及其模型**
![[support/img/Pasted image 20240115003253.png|400]]
*此处的互连线都位于同一层??????*
![[support/img/Pasted image 20240115003408.png|400]]
🏀**互连寄生效应对电路的影响**
寄生效应的类型：
1. 电容性的寄生效应
2. 电阻性的寄生效应
3. 电感性的寄生效应
寄生效应的影响：
1. *引入噪声*：可靠性降低
2. 降低性能：延时增加
3. 增加功耗
# 二、互连线的电容效应 
## 1. 平行板电容模型
> [!question] 这是啥和啥的电容?
> ⾸先考虑⼀条简单的矩形导线放在半导体衬底之上


![[support/img/Pasted image 20240115003847.png|400]]
$$C=\frac{\varepsilon_{ox}}{t_{ox}}WL$$
### (1)缩小
$$\begin{aligned}W,&t_{ox}\to1/S\\&L\to1/S_L\end{aligned}$$
因此电容有以下变化$$S_{C,wire}=\frac{1/S\times1/S_L}{1/S}=1/S_L$$
## 2. 边缘电容模型
随着尺寸缩小：
1. 为保持电阻比较小，需要互连线的截面积比较大，即（W × H） 比较大；
2. 为获得较密布线，需W比较小。
因此随着工艺尺寸的缩小，<font color="#ff0000"> W/H 在逐步下降</font>
⽐例在稳步下降甚⾄在先进的⼯艺中已降到了1 以下。这在图2.8 的⼯艺截⾯上可以清 楚地看出。在这些情形下前⾯所假设的平板电容模型变得很不精确。此时在导线侧⾯与衬底之 间的电容(称为边缘电容)不再能被忽略，⽽成为总电容的⼀部分。
![[support/img/Pasted image 20240115004345.png|600]]
### (1)边缘电容
**边缘电容：连线侧壁与衬底间的电容**
![[support/img/Pasted image 20240115005230.png]]
![[support/img/Pasted image 20240115005415.png]]

## 3.线间电容
今天的⼯艺已提供了更多的互连层，并且它们也布置得相当密集。在这种情况下，<font color="#ff0000">认为⼀条导线完全与 它周围的结构隔离，因⽽只与地之间存在电容耦合合的假设已不再成⽴</font>。这显示在图4.6中，图中 显示了处于多层互连结构中的⼀条导线的各部分电容。<font color="#ff0000">每条导线并不只是与接地的衬底耦合， ⽽且也与处在同⼀层及处在相邻层上的邻近导线oh</font>。就⼀阶近似⽽⾔，这不会使连⾄⼀个给 定导线的,总电容发⽣变化。但主要的差别是它的各部分电容并不都终⽌在接地衬底上——它们 中的⼤多数连到电平在动态变化的其他导线上。<font color="#ff0000">以后我们特会看到这些浮空电容不仅形成噪声 源(串扰），⽽且对电路性能也有负⾯的影响。</font>
![[support/img/Pasted image 20240115005636.png]]
![[support/img/Pasted image 20240115005647.png|500]]
连线的*水平尺寸与垂直尺寸不按相同比例缩小*，连线间距 D 减小，连线厚度 H 基本维持不变，*导致*线间寄生电容增大。![[support/img/Pasted image 20240115010015.png|400]]

---
实际设计当中如何计算电容?
一般制造商会提供每层的面电容和周边电容。实际设计时，可以查表或查图。
考虑性能时，导线电容的计算：
- *考虑延迟或动态功耗时， 一般用最坏情况 （最大宽度 W ，最薄介质）；*
- *考虑竞争情况时用最小宽度W 及最厚介质；*
- 要用制造后的实际尺寸。
# 三、互连线的电阻效应 
## 1.互连线电阻的模型
一条导线的电阻正比于它的长度L而反比于它的截面积A。如图4.3形状的矩形导体的电阻可以表示成$$R=\frac{\rho L}{A}=\frac{\rho L}{HW}=R_{\square}\frac{L}{W}$$
其中, $\rho$是材料的电阻率, 一些常用材料的电阻率如下![[support/img/Pasted image 20240115093923.png|300]]
集成电路中, 最常用的<font color="#ff0000">材料是铝</font>, 不仅成本低, 而且和制造工艺相融合.
可惜的是与如铜这样的材料相⽐，铝的电阻率较⼤。随 着对性能的要求越来越⾼，最先进的⼯艺正在越来越多地<font color="#ff0000">选择铜</font>作为导体。
如果, 把R重新写为$$R=R_{\square}\frac{L}{W}$$
其中, $$R_{\square}=\frac{\rho}{H}$$
这称为材料的**薄层电阻**, 对于某种给定的工艺, ==H一般为常数, 因此薄层电阻是常数==. 这表明，<span style="background:#d3f8b6">⼀个⽅块导体的电阻与它的绝 对尺⼨⽆关</span>，这从式（4.4)中可以清楚地看出。为了得到⼀条导线的电阻，只需将薄层电阻乘以 该导线的$L/W$⽐。
## 2.薄层电阻
各种互连材料薄层电阻的典型值列在表4.5中。![[support/img/Pasted image 20240115094706.png|400]]
从表中可以得出结论，对于<font color="#ff0000">长互连线，铝是优先考虑的材料</font>。多晶应当只用于局部互连。尽管<font color="#ff0000">扩散层</font>$(n^+,p^+)$的薄层电阻与多晶的相当，但由于它<font color="#ff0000">具有较大的电容及相应较大的 RC 延时</font>， 因此应当避免采用扩散导线。
- 1）多晶、扩散、阱的电阻率随着掺杂浓度和温度而变化 
- 2）多晶，扩散区有较高的电阻，一般不用作互连线 
- 3）多晶可以用作Latch或者Register的内部连线
### (1)硅化物
先进的⼯艺也提供硅化的多晶和扩散层。硅<u>化物是⽤硅和⼀种难熔⾦属形成的合成材料。</u> 这是⼀种⾼导电性的材料并能耐受⾼温⼯艺步骤⽽不会熔化。
**常用的硅化物**$\text{: WSi}_2,\mathrm{~TiSi}_2,\text{ PtSi}_2\text{和 TaSi 等}$
**电阻率**: 约为多晶的$\frac{1}{8}$
<font color="#ff0000">硅化物最常⽤的形态是多晶硅化物(polycide）</font>，它只是多晶硅和硅化物这两层的组合。典型的**多晶硅化物**由<font color="#ff0000">底层的多晶硅 和上⾯覆盖的硅化物组</font>成，它结合了这两种材料最佳的性质-—良好的附着⼒和覆盖性(来⾃多 晶）以及⾼导电性(来⾃硅化物）。图4.8 为⼀个采⽤多晶硅化物栅制造的 MOSFET。硅化的栅具 有栅电阻较⼩的优点。同样，硅化的源和漏区将降低器件的源漏电阻。
![[support/img/Pasted image 20240115095429.png|400]]

## 3. 工艺上减小电阻的办法
1. 选择性的按比例缩小
	1. 水平尺寸（W、L）缩小，垂直尺寸（H）基本恒定(*不应该是L/W减小*)
	2. *工艺变复杂，寄生电容增大*
2. 采用低阻的互连材料
	1. <font color="#ff0000">采用硅化物代替多晶硅栅</font>√
	2. 用电阻率更低的铜代替铝作为连线金属√
3. 增加互连线层数，减小平均连线长度√
## 4. 接触电阻contact resistance
布线层之问的转接将给导线带来额外的电阻，称为接触电阳(contact resistance)。因此优先考虑的布线策略是尽可能地使信号线保持在同⼀层上，并避免过多的接触或通孔。使接触孔较⼤可以 降低接触电阻.
> **接触孔（contact）**：导电层之间的转接，如多晶、扩散 区（p+，n+）与金属间连接
> **通孔（via）**：金属层间连接

### (1)电流集聚 
电流往往集中在⼀个较⼤接触孔的周边。这⼀效应称为电流集聚 (current crowding)，它在实际中將限制按触孔的最⼤尺⼨。
**对策**: 因此，接 触孔或通孔通常都采用固定大小，而用<font color="#ff0000">多个孔并列</font>来减 少接触电阻
![[support/img/Pasted image 20240115100940.png|400]]
### (2)趋肤效应
⾄今我们⼀直把半导体导线的电阻看成线性的和不变化的。对于⼤多数半导体电路确实如 此。然**⽽，在⾮常⾼的频率下会出现⼀种额外的现象，称为趋肤效应**，它使导线电阻变得与频率 有关。<font color="#ff0000">⾼频电 流倾向于主要在导体的表⾯流动，其电流密度随进⼈导体的深度⽽呈指数下降。</font>
趋肤深度$\delta$定义为电流下降至它的额定值的 e$^{-1}$时所处的深度，并由下式给出$$\delta=\sqrt{\frac{\rho}{\pi f\mu}}$$
式中，$f$为信号的频率，$\mu$为周围电介质的磁导率(一般情况下等于真空的磁导率，即$\mu=4\pi\times$ 10$^{-7}$ H/m)。对于铝，在1 GHz 时的趋肤深度等于2.6 μm。于是很明显的问题就是，当设计当代最先进水平的数字电路时，这是否是我们应当考虑的一件事。
这⼀效应可以近似假设为电流均匀流过这个导体的厚度为$\delta$的外壳，如图4.9的矩形导线所示。假设导线的总截面现在局限在约为$2(W+H)\delta$,就能得到在高频$(f>f_s)$ 时(每单位长度)电阻的表达式如下；$$r(f)=\frac{\sqrt{\pi f\mu\rho}}{2(H+W)}$$
⾼频时电阻的增加可以引起在导线上传送的信号有额外的衰减，并因此产⽣失真。为了确定趋肤效应的发⽣，可以求出趋肤深度等于导体最⼤尺⼨$( W$或$H$) ==一半==时的频率$f_{s}$。==频率低于$f_{s}$时，整个导线(截面)都导通电流，导线电阻等于低频时的电阻(为常数)。==由式(4.6)可求得$f_\mathrm{s}$的值：
$$f_{s}=\frac{4\rho}{\pi\mu\left(\max(W,H)\right)^{2}}$$

> 铝在1GHz时趋肤深度约等于2.6um

- 总之，趋肤效应是**对较宽导线才有的问题**。由于<font color="#ff0000">时钟线往往传送⼀个芯⽚上最⾼频率的信号，并且它也相当宽以限制电阻</font>，因此趋肤效应多半⾸先影响这些线。这是**吉赫**范围设计确实要 考虑的问题，因为时钟决定了芯⽚的整体性能（周期时间、每秒指令数等）。
- 另⼀个设计中要考虑 的问题是，采⽤像<font color="#ff0000">铜这样的良导体会使较低频率时就发⽣趋肤效应</font>。![[support/img/Pasted image 20240115102229.png|500]]
**导线越宽, 电阻越小, 频率越低的时候, 电阻增加就越多.**
# 四、互连线模型 
参考[[Fishing/First_Sem_Master_1/数大/L02/L02_器件与互连线_NOTE|L02_器件与互连线_NOTE]]
# 五、等比例缩小原则 
三种理论:
1. 恒定电场（constant electrical field）理论，简称CE理论 
	- **电压和尺寸被缩小同一个因子S**，电场强度在器件尺寸缩小后保持不变。CE率是一种<font color="#ff0000">理想</font>模型。
2. 恒定电源电压（constant voltage）理论，简称CV理论： 
	- 电源电压保持恒定
	- 尺寸缩小一个因子S。CV率至今<font color="#ff0000">最普遍</font>使用的方法。
3. 准恒定电源电压（quasi-constant voltage）理论，简称 QCV理论：
	1. 工艺尺寸和电压各自独立缩小，缩小因子分 别为S和U。通常称这种方式为<font color="#ff0000">一般化缩小</font>。
🏀**尺寸因子影响的是:** W, L, $t_{ox}$(注意, 导线高度是不变的, 这里是ox的厚度变化,H不变因为[[Fishing/First_Sem_Master_1/数大/L14/L14_1_互连线_NOTE#(1)边缘电容|L14_互连线_NOTE]])
🏀**电压因子影响的是:**$V_{DD}, V_{T}$
## 1. 器件
### (1)一些铺垫
#### A:W和L
W和L到底指的是什么
##### a:在导线之中
![[support/img/Pasted image 20240115003847.png|400]]
##### b:在器件之中
![[support/img/Pasted image 20240115112555.png]]
##### c:器件和导线联合定义
![[support/img/Pasted image 20240115115116.png|400]]
显然, 导线之中的L和沟道长度L是不一样的, 因此这个表格是针对器件来说的
#### B:参数定义
![[support/img/Pasted image 20240115112740.png|500]]
先不管电压是减小了还是没变, 我们首先观察到, $V_{DD}$和$V_{GS}$的比例是一样的就行了.
![[support/img/Pasted image 20240115112849.png|500]]
- $I_{D}$用的是长沟器件的, 推到一下, 是对的.
- 延时利用了$R_{eq}C$
- P是静态功耗, 没算翻转功耗, 也就是没管动态功耗
![[support/img/Pasted image 20240115113725.png|300]]
也和上边对上了这幅图, 但是W这么表示就很离谱
![[support/img/Pasted image 20240115114029.png|400]]
这个也是对的, 而且上边给出了公式, 是对的, 和课件上也是对应的.
#### C:短沟和长沟
- 短沟的问题在于, 当沟道电场到达一个强度$\xi_{c}$的时候, 载流子的速度不再增加, 因此电流不再增加了. 我们考察, 此时的$V_{DSAT}$的缩放比例, 由于$$V_{DSAT}\approx L\xi_{c}=\frac{L\upsilon_{sat}}{\mu_{n}}$$
因此我们知道, $V_{DSAT}$和L的缩放尺寸一样的, 因此可以化简公式$$\begin{aligned}
&I_{DSAT} =I_{D}\bigl(V_{DS}=V_{DSAT}\bigr)  \\
&=\underline{\mu_{n}C_{ox}}\frac{W}{L}{\left[\left(V_{GS}-V_{T}\right)V_{DSAT}-\frac{V_{DSAT}^{2}}{2}\right]} \\
& =\nu_{sat}C_{ox}W{\left(V_{GS}-V_{T}-\frac{V_{DSAT}}{2}\right)} 
\end{aligned}$$
- 长沟器件没的说, 直接看公式$$I_{_{DSAT}}=\frac{1}{2}\mu_{_n}C_{_{ox}}\frac{W}{L}(V_{_{GS}}-V_{_T})^2$$
就好了

### (2)各参数比例变化
#### A:短沟器件
![[support/img/Pasted image 20240115115840.png]]
1. W, L, $t_{ox}$
	- 没啥问题, 都是描述的器件的, 因此一共也就这三个参数
2. $V_{DD}, V_{T}$
	- *关键在于这个阈值电压为啥也缩小了???*
3.  $N_{sub}$
	- 这个值的意思是: doping concentration, 掺杂浓度, *这个掺杂浓度是算出来的竟然*
4. Area
	- 没啥问题, 就是WL, 这里是器件的面积(或者说栅极的面积, 因为W和L都是栅极的参数)
5. $C_{ox}$: 栅氧化层单位面积电容
	- 直接看课本定义, $\frac{\xi_{ox}}{t_{ox}}$
6. $C_{gate}$: 器件电容
	- 由于电容正比于面积, 因此利用了公式$C_{ox}WL$
7. $k_{n},k_{p}$
	- 定义工艺跨导$k_n^{\prime}=\mu_nC_{ox}$, 在此基础上定义增益因子$k_n=k_n^{\prime}\frac{{W}}L$
8. $I_{sat}$
	- 实际就是$I_{DSAT}$, 由于此处是短沟器件, 利用公式$$\begin{aligned}
&I_{DSAT} =I_{D}\bigl(V_{DS}=V_{DSAT}\bigr)  \\
&=\underline{\mu_{n}C_{ox}}\frac{W}{L}{\left[\left(V_{GS}-V_{T}\right)V_{DSAT}-\frac{V_{DSAT}^{2}}{2}\right]} \\
& =\nu_{sat}C_{ox}W{\left(V_{GS}-V_{T}-\frac{V_{DSAT}}{2}\right)} 
\end{aligned}$$
9. Current Density
	- 公式确实没错, 但是你这个*Area得是导线的横截面积吧*
10. $R_{on}$
	- 参考公式$$R_{eq}=average_{t=t_1\ldots t_2}(R_{on}(t))=\frac1{t_2-t_1}\int_{t_1}^{t_2}\frac{V_{DS}}{I_D(t)}dt$$
	- 计算过程如下$$R_{eq}=\frac{1}{-V_{DD}}\int_{V_{DD}}^{V_{DD}/2}\frac{V_{DS}}{I_{DSAT}(1+\lambda V_{DS})}dV_{DS}\approx\frac{3}{4}\frac{V_{DD}}{I_{DSAT}}(1-\frac{7}{9}\lambda V_{DD})$$
	因此直接写$\frac{V}{I_{sat}}$是对的
11. Intrinsic Delay
	- 本征延时, 0.69$R_{eq}C_{int}$就是可以直接认为成$R_{on}C_{gate}$
12. P
	- 首先利用公式$I^2_{D}R_{eq}$是没问题的, 其代表的==物理含义是导通时, 所消耗的功率==![[support/img/Pasted image 20240115122221.png|200]]
	- 带入之前的公式, 可以等效认为$V_{DD}I_{sat}$
13. Power Density
	- 一样的问题, 你这个*Area得是导线的横截面积吧*
14. PDP:功率延时积
	- 没啥问题, 直接相乘
#### B:长沟器件
![[support/img/Pasted image 20240115122510.png]]
==就是$I_{D}$用公式变一下就好了, 问题出在, 短沟的时候:$V_{DSAT}$是和L也就是S相关, 而$V_{GS}$是和U相关, 所以导致了后两列不同==
## 2. 互连线
![[support/img/Pasted image 20240115122841.png]]
这幅图的意思是, 局部互连线密度高, 但是总长度短, 全局互连线长度长, 但是密度低.*有啥用?*
### (1)互连线尺寸缩放
导线宽度、厚度、*介质层厚度*按同一比例 （1/S <1）缩小
> [!question] 介质层?一层层排布?线间电容?
> 
- 长度缩小因子
	- 局部互连线, $1/S<1$缩小
	- 全局互连线, $1/S_{L}>1$放大
	- 长度不变, 就是不变
![[support/img/Pasted image 20240115123750.png|500]]
### (2)互连线按“恒电阻”缩放
就是H不变了
导线宽度（ W ）和间距 （ t ）按比例缩小时，==导线厚度（H）保持 不变==, 长度(L)分三种情况。
**影响**：H不变使性能(延时)得到改善，但使边缘和线间电容（串扰）==(不是下图给出的那个C, 得看前边的, 定量也可以描述, H就是高度嘛) ==增加，为此引入一个附加的电容增大系数：$\xi_{c}$ > 1. 
![[support/img/Pasted image 20240115124025.png]]
### (3)互连工艺改进策略
*采用分层互连线：*
- *全局连线：保持对电阻的控制*
- *局部连线：集成密度和低电容是关键*
短线应随特征尺寸一起缩小，并增加*布线通道*（但功能块间的长线不能与其余尺寸 一样缩小）
采用较好的工艺：优良的互连材料（铜）和*绝缘材料*（聚合物和空气）
![[support/img/Pasted image 20240115124518.png|500]]
这里和那个线间电容有关系, ![[support/img/Pasted image 20240115124800.png]]![[support/img/Pasted image 20240115124951.png|500]]
第五层线间电容大(*为啥*), 因此上边线搞宽一点, 间隔大一点, 因此走电源线
# 六、总结
- 互连线的寄生电容
- 互连线的寄生电阻
- 互连线模型（Elmore延时）
- 器件与互连线（尤其是全局互连线）按比例 缩放规律