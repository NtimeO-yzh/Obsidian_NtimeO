# 1. RbOPC(TdOPC)

## ï¼ˆ1ï¼‰LITHO NMBIASâ„¢

Calibre nmBIAS applies bias based on space and widths. Biasing can be positive or negative, adding to or reducing the width of a target shape, respectively. Either rule or table mode may be used.

### A: SVRFè„šæœ¬åŸºæœ¬æ ¼å¼

LITHO NMBIAS-based commands perform biasing by calling a LITHO FILE statement that contains a setlayer nmbias command.
```tcl
LITHO [CL] NMBIAS  FILE file  targetLayer  [inLayer] ... MAP outLayer

LITHO FILE litho_file_name [/*
    ...
     options option_name {
         ...
         }
     
    setlayer output_layer_name = nmbias input_layer ...
         MAP name 
         OPTIONS opt_name 
    */]
```

```tcl
AfterBiasrule = LITHO NMBIAS FILE nmbias.setup BiasruleLyr MAP postbias

LITHO FILE nmbias.setup [/* 
    tilemicrons 40 adjust 
    layer bias.in hidden
    # options block is named â€˜first.passâ€™ 
    options first.pass {
        version 1
        layer bias.in opc
        ... 
    }
    # first.pass is passed to the setlayer command 
    setlayer postbias = nmbias bias.in 
             MAP bias.in 
             OPTIONS first.pass
    */]
```
### B: `BIASRULE`çš„ä¸¤ç§å½¢å¼

#### Rule set

![](https://sic-tsinghua.feishu.cn/space/api/box/stream/download/asynccode/?code=NDgyMDZlYWJkODRkZmRjN2ZjNGVmODhiZmEyYjkxNjNfVTNSdEVVckRGeXI3T0lXVld3bmVHb3o4a1BFT1ZGaFpfVG9rZW46RWxUeGJsRkFSb3d0ZUt4QjlFQ2NyemtFbnNoXzE3MDAxOTMwOTU6MTcwMDE5NjY5NV9WNA)
#### Table
![](https://sic-tsinghua.feishu.cn/space/api/box/stream/download/asynccode/?code=OTQyM2EzOWI4MzJhMjA0ODc5ZWQyNjYzZDNiMDA2MjNfQjVQMHl6eXc0YnBRVERtcHR2cjQyRXFxQUJBNWxSOEFfVG9rZW46Q0x5SmJLSjlFb1hoWTF4VEQ1U2NHdnBpbkllXzE3MDAxOTMwOTU6MTcwMDE5NjY5NV9WNA)
## ï¼ˆ2ï¼‰OPCBIAS

OPCBIAS applies bias based on space and widths. Biasing can be positive or negative, adding to or reducing the width of a target shape, respectively.

**Conversion of Table Values to OPCBIAS Rules -- P155**

  

## ï¼ˆ3ï¼‰OPCLINEEND

OPCLINEEND performs biasing using width and height of line-ends (with no consideration for spacing violations) applied to the entire poly layer.

**Table Conversion to OPCLINEEND Rules -- P189**

# 2.ğŸ’¡

1. Rule set <---> Table
    
2. æ“ä½œä¹‹é—´çš„å…³ç³»
    

![](https://sic-tsinghua.feishu.cn/space/api/box/stream/download/asynccode/?code=ODVjOTAzNDUxYTNmYjY3ZTFkNWE1NDFlZTk1MDQ0NTRfZGFpSUpERDBvTmFJWEFkcjZublVTRWhyc05KOWN2YmhfVG9rZW46TEtqZGJwaVM3b1VQZFR4MFBQSWM4RDhFbmVjXzE3MDAxOTMwOTU6MTcwMDE5NjY5NV9WNA)

# 3. â­ï¸ 

tdopcï¼šè¿ç§»recipeçš„æ—¶å€™ï¼ŒåŠŸèƒ½ä¸èƒ½å°‘ã€‚recipeä¸æ”¹å˜ã€‚--> å¦‚ä½•èƒ½çŸ¥é“calibreå…¨éƒ¨çš„ï¼ˆèµ·ç æ˜¯å¸¸ç”¨çš„å…¨éƒ¨çš„åŠŸèƒ½ï¼‰ã€‚æ‰€æœ‰éœ€æ±‚->æœ‰èŒƒå›´çš„åŠŸèƒ½->è½¬ä¸ºåº•å±‚Cã€‚

pattern_matchï¼šä¾‹å­ç›®å‰ä¸åˆé€‚ã€‚è‡ªå·±åšdemoï¼Œç²¾ç¡®marker->åŠ éšæœºshift->é€šè¿‡maxsearchå‚æ•°ä¸€å®šå¾—è°ƒå›æ¥ã€‚æ•°æ®é‡å¤§å¯¼è‡´äºŒå€çš„patternï¼Ÿï¼Ÿæ•°æ®é‡ä¸ºå•¥ä¼šå¯¼è‡´åŠŸèƒ½çš„é”™è¯¯ï¼Ÿï¼Ÿ